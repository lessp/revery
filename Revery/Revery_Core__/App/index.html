<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>App (Revery.Revery_Core__.App)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">Revery</a> &#x00BB; <a href="../index.html">Revery_Core__</a> &#x00BB; App</nav><h1>Module <code>Revery_Core__.App</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p><code>t</code> is the type representing the running app instance</p><p>There is only ever a single app instance, but an app instance may have multiple windows.</p></dd></dl><dl><dt class="spec value" id="val-getWindows"><a href="#val-getWindows" class="anchor"></a><code><span class="keyword">val</span> getWindows : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../Revery_Core/Window/index.html#type-t">Revery_Core.Window.t</a> list</span></code></dt><dd><p><code>getWindows(app)</code> returns the list of all open <code>Window.t</code> instances</p></dd></dl><dl><dt class="spec value" id="val-quit"><a href="#val-quit" class="anchor"></a><code><span class="keyword">val</span> quit : <span>?&#8288;askNicely:bool</span> <span>&#45;&gt;</span> <span>?&#8288;code:int</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>quit(~askNicely, ~code, c)</code> causes the App to quit with exit code <code>c</code></p><p><code>askNicely</code> specifies whether quit should be forced (default <code>false</code>). If <code>true</code>, the canQuit handlers will be run for each window. If <code>false</code>, the canQuit handlers will be ignored.</p><p><code>code</code> specifies the exit code. Defaults to <code>0</code>.</p></dd></dl><dl><dt class="spec value" id="val-isIdle"><a href="#val-isIdle" class="anchor"></a><code><span class="keyword">val</span> isIdle : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>isIdle(app)</code> returns true if the app is idling, false othwrise</p></dd></dl><dl><dt class="spec type" id="type-delegatedFunc"><a href="#type-delegatedFunc" class="anchor"></a><code><span class="keyword">type</span> delegatedFunc</code><code> = unit <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-runOnMainThread"><a href="#val-runOnMainThread" class="anchor"></a><code><span class="keyword">val</span> runOnMainThread : <a href="index.html#type-delegatedFunc">delegatedFunc</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>runOnMainThread(f)</code> schedules the function <code>f</code> to run during the next render frame on the main thread.</p><p>If the application is idle, this will cause it to become active, and trigger a re-render.</p></dd></dl><dl><dt class="spec value" id="val-flushPendingCallbacks"><a href="#val-flushPendingCallbacks" class="anchor"></a><code><span class="keyword">val</span> flushPendingCallbacks : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>flushPendingCallbacks(f)</code> will explicitly run all the callbacks queued up via <code>runOnMainThread</code>.</p><p>In general, this should not need to be called by user code, as it happens as part of the application lifecycle.</p><p>However, it may be necessary to call this for tests that queue up callbacks via <code>runOnMainThread</code>.</p></dd></dl><dl><dt class="spec value" id="val-setCanIdle"><a href="#val-setCanIdle" class="anchor"></a><code><span class="keyword">val</span> setCanIdle : <span>(unit <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>setCanIdle(f, app)</code> registers a callback <code>f</code>. Each frame, <code>f</code> will be called to check if the application can idle. If <code>f()</code> returns <code>false</code>, the app will not idle and will render. This is useful if you have animations active, but in general, you want to allow the app to idle to minimize CPU and battery usage.</p></dd></dl><dl><dt class="spec type" id="type-unsubscribe"><a href="#type-unsubscribe" class="anchor"></a><code><span class="keyword">type</span> unsubscribe</code><code> = unit <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec value" id="val-onBeforeQuit"><a href="#val-onBeforeQuit" class="anchor"></a><code><span class="keyword">val</span> onBeforeQuit : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-unsubscribe">unsubscribe</a></code></dt><dd><p><code>onBeforeQuit(app, f) registers a callback [f] that is called prior to quitting</code></p></dd></dl><dl><dt class="spec value" id="val-onIdle"><a href="#val-onIdle" class="anchor"></a><code><span class="keyword">val</span> onIdle : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-unsubscribe">unsubscribe</a></code></dt><dd><p><code>onIdle(app, f) registers a callback [f] that is called when the application is idle.
  This allows you to defer work when the app is not under load - (for example,
  this is may be a good time to garbage collect). This will be called
  when multiple frames have passed without requiring a render.
</code></p></dd></dl><dl><dt class="spec value" id="val-createWindow"><a href="#val-createWindow" class="anchor"></a><code><span class="keyword">val</span> createWindow : <span>?&#8288;createOptions:<a href="../../Revery_Core/WindowCreateOptions/index.html#type-t">Revery_Core.WindowCreateOptions.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../../Revery_Core/Window/index.html#type-t">Revery_Core.Window.t</a></code></dt><dd><p><code>createWindow ~createOptions, app, name</code> creates a new window</p></dd></dl><dl><dt class="spec value" id="val-start"><a href="#val-start" class="anchor"></a><code><span class="keyword">val</span> start : <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>start</code> is the entry point for a Revery application. This initiates the Revery application lifecycle, and an app instance (<code>t</code>) is passed to an initialization function.</p></dd></dl><dl><dt class="spec value" id="val-initConsole"><a href="#val-initConsole" class="anchor"></a><code><span class="keyword">val</span> initConsole : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>initConsole</code> (Windows-only) attaches or allocates a console, to show logging output. No-op on other platforms.</p></dd></dl></div></body></html>