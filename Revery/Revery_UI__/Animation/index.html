<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Animation (Revery.Revery_UI__.Animation)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">Revery</a> &#x00BB; <a href="../index.html">Revery_UI__</a> &#x00BB; Animation</nav><h1>Module <code>Revery_UI__.Animation</code></h1></header><dl><dt class="spec module" id="module-NormalizedTime"><a href="#module-NormalizedTime" class="anchor"></a><code><span class="keyword">module</span> <a href="NormalizedTime/index.html">NormalizedTime</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>* Normalized time in the interval <code>0., 1.</code></p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'value t</span></code></dt><dd><p>* `t('value)` is the type of an animated value where `'value` represents the type of the value.</p></dd></dl><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code><code> = </code><table class="variant"><tr id="type-state.Delayed" class="anchored"><td class="def constructor"><a href="#type-state.Delayed" class="anchor"></a><code>| </code><code><span class="constructor">Delayed</span></code></td></tr><tr id="type-state.Running" class="anchored"><td class="def constructor"><a href="#type-state.Running" class="anchor"></a><code>| </code><code><span class="constructor">Running</span></code></td></tr><tr id="type-state.Complete" class="anchored"><td class="def constructor"><a href="#type-state.Complete" class="anchor"></a><code>| </code><code><span class="constructor">Complete</span> <span class="keyword">of</span> <a href="../../Revery_Core/Time/index.html#type-t">Revery_Core.Time.t</a></code></td></tr></table></dt><dd><p>* `state` is the state of the animation. * * `Delayed` means it has yet to start * `Running` means it has started and not yet finished. * `Complete(elapsed)` means it has completed in `elapsed` time.</p></dd></dl><dl><dt class="spec value" id="val-const"><a href="#val-const" class="anchor"></a><code><span class="keyword">val</span> const : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `const(value)` will always be completed and produce `value` * * Examples: * const(3) |&gt; valueAt(Time.zero) == 3, * const(3) |&gt; valueAt(Time.seconds(-42)) == 3, * const(3) |&gt; valueAt(Time.seconds(42)) == 3, * const(3) |&gt; stateAt(Time.seconds(-42)) == Complete(Time.zero), * const(3) |&gt; stateAt(Time.seconds(42)) == Complete(Time.zero), * const(&quot;rhino&quot;) |&gt; valueAt(Time.zero) == &quot;rhino&quot;,</p></dd></dl><dl><dt class="spec value" id="val-animate"><a href="#val-animate" class="anchor"></a><code><span class="keyword">val</span> animate : <a href="../../Revery_Core/Time/index.html#type-t">Revery_Core.Time.t</a> <span>&#45;&gt;</span> <span><a href="NormalizedTime/index.html#type-t">NormalizedTime.t</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `animate(time)` maps the interval <code>Time.zero, time</code> to the interval <code>0., 1.</code> * * Applied with a time value &lt; `Time.zero` will produce `(0., Delayed)`. * Applied with a time value &gt; `time` will produce `(1., Complete(time))`. * Applied with a time value &gt; `Time.zero` and &lt; `time` will produce * `(value, Running(value))` where `value` is in the interval <code>0., 1.</code>. * * Examples: * (animate(Time.seconds(5)) |&gt; valueAt(Time.zero) :&gt; float) == 0.0, * (animate(Time.seconds(5)) |&gt; valueAt(Time.seconds(-42)) :&gt; float) == 0.0, * (animate(Time.seconds(5)) |&gt; valueAt(Time.seconds(1)) :&gt; float) == 0.2, * (animate(Time.seconds(5)) |&gt; valueAt(Time.seconds(42)) :&gt; float) == 1.0, * animate(Time.seconds(5)) |&gt; stateAt(Time.zero) == Running, * animate(Time.seconds(5)) |&gt; stateAt(Time.seconds(-42)) == Delayed, * animate(Time.seconds(5)) |&gt; stateAt(Time.seconds(1)) == Running, * animate(Time.seconds(5)) |&gt; stateAt(Time.seconds(42)) == Complete(Time.seconds(5)),</p></dd></dl><dl><dt class="spec value" id="val-delay"><a href="#val-delay" class="anchor"></a><code><span class="keyword">val</span> delay : <a href="../../Revery_Core/Time/index.html#type-t">Revery_Core.Time.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `delay(time)` will effectively extend the the reuslt of applying `Time.zero` * * Examples: * (animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; valueAt(Time.seconds(-2)) :&gt; float) == 0.0, * (animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; valueAt(Time.ms(750)) :&gt; float) == 0.0, * (animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; valueAt(Time.ms(1500)) :&gt; float) == 0.5, * (animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; valueAt(Time.ms(4660)) :&gt; float) == 1.0, * animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; stateAt(Time.ms(-2)) == Delayed, * animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; stateAt(Time.ms(750)) == Delayed, * animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; stateAt(Time.ms(1500)) == Running, * animate(Time.seconds(1)) |&gt; delay(Time.seconds(1)) |&gt; stateAt(Time.ms(4660)) == Complete(Time.seconds(2)),</p></dd></dl><dl><dt class="spec value" id="val-repeat"><a href="#val-repeat" class="anchor"></a><code><span class="keyword">val</span> repeat : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `repeat` will repeat the animation ad infinitum * * Note that it will not repat &quot;backwards&quot;, that is, in negative time. * * Examples: * (animate(Time.seconds(1)) |&gt; repeat |&gt; valueAt(Time.seconds(-2)) :&gt; float) == 0.0, * (animate(Time.seconds(1)) |&gt; repeat |&gt; valueAt(Time.ms(750)) :&gt; float) == 0.75, * (animate(Time.seconds(1)) |&gt; repeat |&gt; valueAt(Time.ms(1750)) :&gt; float) == 0.75, * (animate(Time.seconds(1)) |&gt; repeat |&gt; valueAt(Time.ms(3660)) :&gt; float) =~. 0.66, * (animate(Time.seconds(1)) |&gt; repeat |&gt; valueAt(Time.ms(4660)) :&gt; float) =~. 0.66, * animate(Time.seconds(1)) |&gt; repeat |&gt; stateAt(Time.seconds(-2)) == Delayed, * animate(Time.seconds(1)) |&gt; repeat |&gt; stateAt(Time.ms(4660)) == Running,</p></dd></dl><dl><dt class="spec value" id="val-alternatingRepeat"><a href="#val-alternatingRepeat" class="anchor"></a><code><span class="keyword">val</span> alternatingRepeat : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `alternatingRepeat` will repeat the animation back and forth ad infinitum * * Note that it will not repat &quot;backwards&quot;, that is, in negative time. * * Examples: * (animate(Time.seconds(1)) |&gt; alternatingRepeat |&gt; valueAt(Time.seconds(-2.)) :&gt; float) == 0.0, * (animate(Time.seconds(1)) |&gt; alternatingRepeat |&gt; valueAt(Time.ms(750)) :&gt; float) == 0.75, * (animate(Time.seconds(1)) |&gt; alternatingRepeat |&gt; valueAt(Time.ms(1750)) :&gt; float) == 0.25, * (animate(Time.seconds(1)) |&gt; alternatingRepeat |&gt; valueAt(Time.ms(3660)) :&gt; float) =~. 0.34, * (animate(Time.seconds(1)) |&gt; alternatingRepeat |&gt; valueAt(Time.ms(4660)) :&gt; float) =~. 0.66, * animate(Time.seconds(1)) |&gt; alternatingRepeat |&gt; stateAt(Time.seconds(-2)) == Delayed, * animate(Time.seconds(1)) |&gt; alternatingRepeat |&gt; stateAt(Time.ms(4660)) == Running,</p></dd></dl><dl><dt class="spec value" id="val-ease"><a href="#val-ease" class="anchor"></a><code><span class="keyword">val</span> ease : <a href="../../Revery_UI/Easing/index.html#type-t">Revery_UI.Easing.t</a> <span>&#45;&gt;</span> <span><a href="NormalizedTime/index.html#type-t">NormalizedTime.t</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="NormalizedTime/index.html#type-t">NormalizedTime.t</a> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `ease(start, end)` will transform the animated value according to the given easing function. * * Note that easing only works in normalized time space, and therefore requires * an animation in normalized time even if the easing functions themselves don't. * * Examples: * (animate(Time.seconds(1)) |&gt; ease(Easing.quadratic) |&gt; valueAt(Time.seconds(-2)) :&gt; float) == 0.0, * (animate(Time.seconds(1)) |&gt; ease(Easing.quadratic) |&gt; valueAt(Time.ms(250)) :&gt; float) == 0.0625, * (animate(Time.seconds(1)) |&gt; ease(Easing.quadratic) |&gt; valueAt(Time.ms(500)) :&gt; float) == 0.25, * (animate(Time.seconds(1)) |&gt; ease(Easing.quadratic) |&gt; valueAt(Time.ms(750)) :&gt; float) =~. 0.5625, * (animate(Time.seconds(1)) |&gt; ease(Easing.quadratic) |&gt; valueAt(Time.ms(4660)) :&gt; float) =~. 1.0,</p></dd></dl><dl><dt class="spec value" id="val-tween"><a href="#val-tween" class="anchor"></a><code><span class="keyword">val</span> tween : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span><a href="NormalizedTime/index.html#type-t">NormalizedTime.t</a> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>float <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `tween(start, end)` maps normalized time to the interval <code>start, end</code> * * Examples: * animate(Time.seconds(1)) |&gt; tween(2., 5.) |&gt; valueAt(Time.zero) == 2.0, * animate(Time.seconds(1)) |&gt; tween(2., 5.) |&gt; valueAt(Time.ms(500)) == 3.5, * animate(Time.seconds(1)) |&gt; tween(2., 5.) |&gt; valueAt(Time.seconds(-42)) == 2.0, * animate(Time.seconds(1)) |&gt; tween(2., 5.) |&gt; valueAt(Time.seconds(42)) == 5.0,</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `map(f)` maps the animated value according to the given function `f` * * Examples: * animate(Time.seconds(1)) |&gt; map(n =&gt; string_of_float(n: NormalizedTime.t :&gt; float)) |&gt; valueAt(Time.ms(330)) == &quot;0.33&quot;,</p></dd></dl><dl><dt class="spec value" id="val-andThen"><a href="#val-andThen" class="anchor"></a><code><span class="keyword">val</span> andThen : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>next:<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `andThen(a, ~next:b)` runs `a` and `b` in sequence. * * Examples: * (animate(Time.seconds(1)) |&gt; andThen(~next=animate(Time.seconds(2))) |&gt; valueAt(Time.seconds(1)) :&gt; float) == 1.0, * (animate(Time.seconds(1)) |&gt; andThen(~next=animate(Time.seconds(2))) |&gt; valueAt(Time.seconds(2)) :&gt; float) == 0.5,</p></dd></dl><dl><dt class="spec value" id="val-zip"><a href="#val-zip" class="anchor"></a><code><span class="keyword">val</span> zip : <span>(<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> * <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>* `zip((a, b))` runs `a` and `b` in parallel and returns their values as a tuple. * * Examples: * (zip((animate(Time.seconds(1)), animate(Time.seconds(2)))) |&gt; valueAt(Time.seconds(1)) |&gt; fst :&gt; float) == 1.0, * (zip((animate(Time.seconds(1)), animate(Time.seconds(2)))) |&gt; valueAt(Time.seconds(1)) |&gt; snd :&gt; float) == 0.5,</p></dd></dl><dl><dt class="spec value" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span class="keyword">val</span> apply : <a href="../../Revery_Core/Time/index.html#type-t">Revery_Core.Time.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> * <a href="index.html#type-state">state</a></code></dt><dd><p>* `apply(time)` returns the vale and state of the animation at the given `time` * * Examples: * (animate(Time.seconds(1)) |&gt; apply(Time.ms(330)) |&gt; fst :&gt; float) == 0.33, * animate(Time.seconds(1)) |&gt; apply(Time.ms(330)) |&gt; snd == Running,</p></dd></dl><dl><dt class="spec value" id="val-valueAt"><a href="#val-valueAt" class="anchor"></a><code><span class="keyword">val</span> valueAt : <a href="../../Revery_Core/Time/index.html#type-t">Revery_Core.Time.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>* `valueAt(time)` returns the value of the animation at the given `time` * * Examples: * (animate(Time.seconds(1)) |&gt; valueAt(Time.ms(330)) :&gt; float) == 0.33,</p></dd></dl><dl><dt class="spec value" id="val-stateAt"><a href="#val-stateAt" class="anchor"></a><code><span class="keyword">val</span> stateAt : <a href="../../Revery_Core/Time/index.html#type-t">Revery_Core.Time.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p>* `stateAt(time)` returns the state of the animation at the given `time` * * Examples: * animate(Time.seconds(1)) |&gt; stateAt(Time.ms(330)) == Running,</p></dd></dl></div></body></html>